# Pexels 4K 视频下载器

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Python](https://img.shields.io/badge/python-3.8%2B-blue.svg)](https://www.python.org/)
[![Platform](https://img.shields.io/badge/platform-Windows-lightgrey.svg)](https://www.microsoft.com/windows/)

这是一个使用Python开发的图形界面应用程序，可以从Pexels网站下载4K视频。该工具支持批量下载、多线程加速和分辨率筛选等功能。
<img width="1277" height="868" alt="捕获" src="https://github.com/user-attachments/assets/9cbf57ac-cc9f-4e50-89fc-5af47f256636" />
## 🌟 功能特点

- 🔍 搜索Pexels上的视频（每页显示30个结果）
- 🖼️ 显示视频缩略图供选择
- ⚡ 多线程下载提高速度
- 🖥️ 自动使用项目内置的Python环境
- 🎨 简洁直观的用户界面
- 📋 实时运行日志记录和复制功能
- 📁 自定义下载目录
- 📄 分页浏览功能
- ✅ 批量选择/取消选择功能
- 📏 分辨率筛选功能
- 💡 英文关键词搜索建议
- 🚀 **后台线程处理网络请求（避免UI卡顿）**

## 🚀 快速开始

### Windows系统

1. 下载并解压项目文件
2. 双击运行 `launch.bat` 文件（推荐）
3. 或双击运行 `start.bat` 文件
4. 在搜索框中输入关键词搜索视频
5. 浏览搜索结果并选择想要下载的视频
6. 点击"下载选中视频"按钮开始下载

### 手动运行

如果批处理文件无法工作，可以手动运行：

```bash
# 切换到项目目录
cd C:\path\to\Pexels

# 安装依赖
python\python.exe -m pip install -r requirements.txt

# 运行程序
python\python.exe enhanced_pexels_downloader.py
```

## 📁 项目结构

```
Pexels/
├── python/                     # 内置Python环境
├── downloads/                  # 下载的视频文件（程序自动创建）
├── requirements.txt            # Python依赖包列表
├── enhanced_pexels_downloader.py  # 主程序文件（增强版）
├── launch.bat                  # 简化版启动脚本（推荐）
├── start.bat                   # 完整版启动脚本
├── README.md                   # 说明文档
```

## 🛠️ 依赖说明

- `requests`: 用于网络请求
- `Pillow`: 用于图像处理
- `setuptools`: 用于提供必要的Python模块

## 🖥️ 界面说明

1. **搜索框**：输入关键词搜索Pexels视频
2. **常用关键词**：快速选择常用英文关键词
3. **分辨率筛选**：设置最小宽度和高度筛选高质量视频
4. **下载目录**：显示和设置视频下载保存位置
5. **浏览按钮**：选择自定义下载目录
6. **分页控制**：上一页/下一页浏览更多视频
7. **视频缩略图**：显示搜索结果的视频缩略图，可选择下载
8. **批量操作**：全选当前页或取消全选
9. **运行日志**：显示程序运行过程中的日志信息
10. **复制日志**：将运行日志复制到剪贴板
11. **清空日志**：清空日志显示区域
12. **下载按钮**：下载选中的视频

## ⚙️ 默认设置

1. **默认分辨率筛选**：3840×2160（4K）
2. **默认下载目录**：桌面的 `Pexels_Videos` 文件夹
3. **每页显示结果**：30个视频

这些默认设置可以在程序界面中随时修改。

## ⚡ 性能优化

### 后台线程处理

为了解决搜索和翻页时的UI卡顿问题，程序采用了全面的后台线程处理：

1. **搜索操作**：在后台线程中执行API请求，UI界面保持响应
2. **分页操作**：上一页/下一页操作也在后台线程中执行
3. **缩略图加载**：异步加载视频缩略图，避免阻塞UI
4. **下载操作**：多线程下载，不影响界面操作

### 搜索优化

1. **智能参数传递**：仅在需要时添加分辨率筛选参数，减少不必要的API负载
2. **快速超时**：设置8秒超时时间，避免长时间等待
3. **异步缩略图**：后台线程加载缩略图，UI保持流畅
4. **优化布局**：改进UI布局确保所有组件正确显示

### 灵活的分页功能

1. **上一页/下一页**：传统的分页导航
2. **自定义页码跳转**：可直接跳转到指定页面
3. **页码同步**：页面变化时自动更新页码显示
4. **错误处理**：输入无效页码时提供友好提示

用户在执行搜索或翻页操作时，界面不会出现"无响应"状态。

## 🔍 搜索结果较少的解决方案

### 优先建议：使用英文关键词

根据测试发现，Pexels API对英文关键词的支持更好，能返回更多结果。程序界面已添加常用英文关键词快速选择按钮。

**推荐的英文关键词**：
- Nature (自然)
- Ocean (海洋)
- Mountains (山脉)
- Forest (森林)
- Animals (动物)
- City (城市)
- Technology (科技)
- Food (食物)

### 其他解决方案

1. **使用更通用的关键词**：
   - 避免过于具体的词汇
   - 使用"nature"、"ocean"、"city"等通用词汇

2. **降低分辨率要求**：
   - 清空或降低最小宽度和高度的筛选值
   - 有些关键词可能没有高分辨率视频

3. **浏览多页结果**：
   - 使用分页控件查看更多的搜索结果
   - 每页最多显示30个视频

4. **检查API限制**：
   - Pexels API可能对免费用户有限制
   - 尝试使用不同的关键词

## ⚠️ 注意事项

1. 请遵守Pexels的使用条款和版权规定
2. 下载的视频仅供个人学习和使用
3. 不要用于商业用途，除非获得相应授权
4. 本工具仅用于教育和技术学习目的

##  troubleshoot 故障排除

如果遇到问题，请尝试以下解决方案：

### 依赖安装问题
1. 确保所有文件都在同一目录下
2. 手动安装依赖：
   ```bash
   python\python.exe -m pip install requests Pillow setuptools
   ```

### API连接问题
1. 检查网络连接
2. 确认防火墙没有阻止程序访问网络

### 缩略图加载失败
1. 网络连接可能较慢，等待一段时间
2. 某些视频可能没有缩略图，这是正常的
3. 程序会自动使用视频的封面图片作为缩略图

### 下载失败
1. 检查下载目录是否有写入权限
2. 确保磁盘空间充足
3. 检查网络连接是否稳定

### 界面显示异常
1. 尝试重新运行程序
2. 确保使用的是支持的Windows版本

## 🔐 API密钥

本程序使用了预设的Pexels API密钥。如果您需要使用自己的API密钥，请修改 `enhanced_pexels_downloader.py` 文件中的 `api_key` 变量。

## 🧪 技术说明

- 使用标准tkinter库构建用户界面，确保兼容性
- 采用多线程技术实现并发下载，提高下载速度
- 实现了完整的日志系统，便于问题排查
- 支持自定义下载目录，提高使用灵活性
- 支持分页浏览，每页显示30个视频结果
- 提供批量选择功能，提高操作效率
- 支持分辨率筛选，帮助找到高质量视频
- 提供英文关键词建议，改善搜索体验
- **使用后台线程处理网络请求，避免UI卡顿**

## 📦 打包和分发

该项目包含内置的Python环境，可以打包为独立的可执行文件在其他电脑上运行。

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目。

## 📄 许可证

本项目采用MIT许可证 - 查看[LICENSE](LICENSE)文件了解详情。

## 🙏 致谢

- 感谢[Pexels](https://www.pexels.com/)提供免费的高质量视频资源
- 感谢所有开源库的贡献者们
